{"ast":null,"code":"import _slicedToArray from \"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/src/components/RecmdMovies.js\";\nimport Movies from \"./Movies\";\nimport React, { useEffect, useState } from \"react\";\nimport jwt_decode from 'jwt-decode';\n\nfunction RecmdMovies() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        movies = _useState2[0],\n        setMovies = _useState2[1]; // get current username\n\n\n  const token = localStorage.usertoken;\n  const decoded = jwt_decode(token);\n  const user = decoded.identity.username;\n  const url = \"/rec_movies/\" + user;\n  useEffect(() => {\n    fetch(url).then(response => response.json().then(data => {\n      setMovies(data.movies);\n    })); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  /*    var arr = [];\n  \n      for (var i = 0; i < movies.length; i++) {\n          let movie = {\n              id: movies[i].movie_id,\n              title: movies[i].title,\n              poster: movies[i].poster_path,\n              rating: movies[i].rating\n          };\n          arr.push(movie);\n      }\n  */\n\n  return React.createElement(Movies, {\n    movies: movies,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  });\n}\n\nexport default RecmdMovies;","map":{"version":3,"sources":["/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/src/components/RecmdMovies.js"],"names":["Movies","React","useEffect","useState","jwt_decode","RecmdMovies","movies","setMovies","token","localStorage","usertoken","decoded","user","identity","username","url","fetch","then","response","json","data"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAEA,SAASC,WAAT,GAAuB;AAAA,oBACSF,QAAQ,CAAC,EAAD,CADjB;AAAA;AAAA,QACZG,MADY;AAAA,QACJC,SADI,kBAGnB;;;AACA,QAAMC,KAAK,GAAGC,YAAY,CAACC,SAA3B;AACA,QAAMC,OAAO,GAAGP,UAAU,CAACI,KAAD,CAA1B;AACA,QAAMI,IAAI,GAAGD,OAAO,CAACE,QAAR,CAAiBC,QAA9B;AAEA,QAAMC,GAAG,GAAG,iBAAiBH,IAA7B;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACZc,IAAAA,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAgBC,QAAQ,IACpBA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqBG,IAAI,IAAI;AACzBb,MAAAA,SAAS,CAACa,IAAI,CAACd,MAAN,CAAT;AACH,KAFD,CADJ,EADY,CAMZ;AACH,GAPQ,EAON,EAPM,CAAT;AASJ;;;;;;;;;;;;;AAYI,SACI,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAEA,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAGH;;AAED,eAAeD,WAAf","sourcesContent":["import Movies from \"./Movies\";\nimport React, { useEffect, useState } from \"react\";\nimport jwt_decode from 'jwt-decode'\n\nfunction RecmdMovies() {\n    const [movies, setMovies] = useState([]);\n\n    // get current username\n    const token = localStorage.usertoken\n    const decoded = jwt_decode(token)\n    const user = decoded.identity.username;\n\n    const url = \"/rec_movies/\" + user\n\n    useEffect(() => {\n        fetch(url).then(response =>\n            response.json().then(data => {\n                setMovies(data.movies);\n            })\n        );\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n/*    var arr = [];\n\n    for (var i = 0; i < movies.length; i++) {\n        let movie = {\n            id: movies[i].movie_id,\n            title: movies[i].title,\n            poster: movies[i].poster_path,\n            rating: movies[i].rating\n        };\n        arr.push(movie);\n    }\n*/\n    return (\n        <Movies movies={movies} />\n    )\n}\n\nexport default RecmdMovies;"]},"metadata":{},"sourceType":"module"}