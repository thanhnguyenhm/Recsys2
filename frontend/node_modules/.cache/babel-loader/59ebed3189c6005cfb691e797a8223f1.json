{"ast":null,"code":"import _slicedToArray from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import MovieModule from\"./MovieModule\";import React,{useEffect,useState}from\"react\";import jwt_decode from'jwt-decode';function RatedMovies(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];// get current username\nvar token=localStorage.usertoken;var decoded=jwt_decode(token);var user=decoded.identity.username;var url=\"/rated_movies/\"+user;useEffect(function(){fetch(url).then(function(response){return response.json().then(function(data){setMovies(data.movies);});});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var arr=[];for(var i=0;i<movies.length;i++){var movie={id:i,title:movies[i].title,poster:movies[i].poster_path,rating:movies[i].rating};arr.push(movie);}return arr.map(function(movie){return React.createElement(MovieModule,{key:movie.id,movie:movie});});}export default RatedMovies;","map":{"version":3,"sources":["/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/src/components/RatedMovies.js"],"names":["MovieModule","React","useEffect","useState","jwt_decode","RatedMovies","movies","setMovies","token","localStorage","usertoken","decoded","user","identity","username","url","fetch","then","response","json","data","arr","i","length","movie","id","title","poster","poster_path","rating","push","map"],"mappings":"mOAAA,MAAOA,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CAEA,QAASC,CAAAA,WAAT,EAAuB,eACSF,QAAQ,CAAC,EAAD,CADjB,wCACZG,MADY,eACJC,SADI,eAGnB;AACA,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,SAA3B,CACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,CAACI,KAAD,CAA1B,CACA,GAAMI,CAAAA,IAAI,CAAGD,OAAO,CAACE,QAAR,CAAiBC,QAA9B,CAEA,GAAMC,CAAAA,GAAG,CAAG,iBAAmBH,IAA/B,CAEAV,SAAS,CAAC,UAAM,CACZc,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAgB,SAAAC,QAAQ,QACpBA,CAAAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,SAAAG,IAAI,CAAI,CACzBb,SAAS,CAACa,IAAI,CAACd,MAAN,CAAT,CACH,CAFD,CADoB,EAAxB,EAKA;AACH,CAPQ,CAON,EAPM,CAAT,CASA,GAAIe,CAAAA,GAAG,CAAG,EAAV,CAEA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGhB,MAAM,CAACiB,MAA3B,CAAmCD,CAAC,EAApC,CAAwC,CACpC,GAAIE,CAAAA,KAAK,CAAG,CACRC,EAAE,CAAEH,CADI,CAERI,KAAK,CAAEpB,MAAM,CAACgB,CAAD,CAAN,CAAUI,KAFT,CAGRC,MAAM,CAAErB,MAAM,CAACgB,CAAD,CAAN,CAAUM,WAHV,CAIRC,MAAM,CAAEvB,MAAM,CAACgB,CAAD,CAAN,CAAUO,MAJV,CAAZ,CAMAR,GAAG,CAACS,IAAJ,CAASN,KAAT,EACH,CAED,MAAOH,CAAAA,GAAG,CAACU,GAAJ,CAAQ,SAACP,KAAD,QACX,qBAAC,WAAD,EAAa,GAAG,CAAEA,KAAK,CAACC,EAAxB,CAA4B,KAAK,CAAED,KAAnC,EADW,EAAR,CAAP,CAGH,CAED,cAAenB,CAAAA,WAAf","sourcesContent":["import MovieModule from \"./MovieModule\";\nimport React, { useEffect, useState } from \"react\";\nimport jwt_decode from 'jwt-decode'\n\nfunction RatedMovies() {\n    const [movies, setMovies] = useState([]);\n\n    // get current username\n    const token = localStorage.usertoken\n    const decoded = jwt_decode(token)\n    const user = decoded.identity.username;\n\n    const url = \"/rated_movies/\" + user\n\n    useEffect(() => {\n        fetch(url).then(response =>\n            response.json().then(data => {\n                setMovies(data.movies);\n            })\n        );\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    var arr = [];\n \n    for (var i = 0; i < movies.length; i++) {\n        let movie = {\n            id: i,\n            title: movies[i].title,\n            poster: movies[i].poster_path,\n            rating: movies[i].rating\n        };\n        arr.push(movie);\n    }\n\n    return arr.map((movie) => (\n        <MovieModule key={movie.id} movie={movie} />\n    ));\n}\n\nexport default RatedMovies;"]},"metadata":{},"sourceType":"module"}