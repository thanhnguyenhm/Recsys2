{"ast":null,"code":"import _regeneratorRuntime from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Rating,Card,Image}from'semantic-ui-react';import no_img from'./no_image.png';import{rate}from'./UserFunctions';import jwt_decode from'jwt-decode';var MovieModule=/*#__PURE__*/function(_Component){_inherits(MovieModule,_Component);function MovieModule(){_classCallCheck(this,MovieModule);return _possibleConstructorReturn(this,_getPrototypeOf(MovieModule).apply(this,arguments));}_createClass(MovieModule,[{key:\"render\",value:function render(){var _this=this;var img_src=\"\";if(this.props.movie.poster===\"#N/A\"){img_src=no_img;}else{img_src=\"http://image.tmdb.org/t/p/w300\"+this.props.movie.poster;}return React.createElement(\"div\",{className:\"dib pa3 grow\"},React.createElement(Card,null,React.createElement(Image,{src:img_src,wrapped:true,ui:false}),React.createElement(Card.Content,null,React.createElement(Card.Header,null,this.props.movie.title)),React.createElement(Card.Content,null,React.createElement(Rating,{rating:this.props.movie.rating,size:\"massive\",icon:\"star\",maxRating:5,clearable:true,onRate:/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_,data){var token,decoded,user,title,rating,movie;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!localStorage.usertoken){window.alert(\"Your rating is not saved. You need to log in first.\");}else{token=localStorage.usertoken;decoded=jwt_decode(token);user=decoded.identity.username;title=_this.props.movie.title;rating=data.rating;movie={title:title,rating:rating,user:user};rate(movie);}window.location.reload();case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}()}))));}}]);return MovieModule;}(Component);// PropTypes\nexport default MovieModule;","map":{"version":3,"sources":["/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/src/components/MovieModule.js"],"names":["React","Component","Rating","Card","Image","no_img","rate","jwt_decode","MovieModule","img_src","props","movie","poster","title","rating","_","data","localStorage","usertoken","window","alert","token","decoded","user","identity","username","location","reload"],"mappings":"gkDAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,KAAoC,mBAApC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,OAASC,IAAT,KAAqB,iBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,C,GAEMC,CAAAA,W,yRACO,gBAEL,GAAIC,CAAAA,OAAO,CAAG,EAAd,CACA,GAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,GAA4B,MAAhC,CAAwC,CACpCH,OAAO,CAAGJ,MAAV,CACH,CAFD,IAEO,CACHI,OAAO,CAAG,iCAAmC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAA9D,CACH,CAED,MACI,4BAAK,SAAS,CAAC,cAAf,EACI,oBAAC,IAAD,MACI,oBAAC,KAAD,EAAO,GAAG,CAAEH,OAAZ,CAAqB,OAAO,KAA5B,CAA6B,EAAE,CAAE,KAAjC,EADJ,CAEI,oBAAC,IAAD,CAAM,OAAN,MACI,oBAAC,IAAD,CAAM,MAAN,MAAc,KAAKC,KAAL,CAAWC,KAAX,CAAiBE,KAA/B,CADJ,CAFJ,CAKI,oBAAC,IAAD,CAAM,OAAN,MACI,oBAAC,MAAD,EACA,MAAM,CAAI,KAAKH,KAAL,CAAWC,KAAX,CAAiBG,MAD3B,CAEA,IAAI,CAAC,SAFL,CAGA,IAAI,CAAC,MAHL,CAIA,SAAS,CAAE,CAJX,CAKA,SAAS,KALT,CAMA,MAAM,0FAAE,iBAAOC,CAAP,CAAUC,IAAV,4JACJ,GAAI,CAACC,YAAY,CAACC,SAAlB,CAA6B,CACzBC,MAAM,CAACC,KAAP,CAAa,qDAAb,EACH,CAFD,IAGK,CACKC,KADL,CACaJ,YAAY,CAACC,SAD1B,CAEKI,OAFL,CAEef,UAAU,CAACc,KAAD,CAFzB,CAGKE,IAHL,CAGYD,OAAO,CAACE,QAAR,CAAiBC,QAH7B,CAIKZ,KAJL,CAIa,KAAI,CAACH,KAAL,CAAWC,KAAX,CAAiBE,KAJ9B,CAKKC,MALL,CAKcE,IAAI,CAACF,MALnB,CAMKH,KANL,CAMa,CAAEE,KAAK,CAALA,KAAF,CAASC,MAAM,CAANA,MAAT,CAAiBS,IAAI,CAAJA,IAAjB,CANb,CAODjB,IAAI,CAACK,KAAD,CAAJ,CACH,CACDQ,MAAM,CAACO,QAAP,CAAgBC,MAAhB,GAbI,sDAAF,kEANN,EADJ,CALJ,CADJ,CADJ,CAmCH,C,yBA7CqB1B,S,EAiD1B;AAKA,cAAeO,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Rating, Card, Image } from 'semantic-ui-react'\nimport PropTypes from 'prop-types';\nimport no_img from './no_image.png'\nimport { rate } from './UserFunctions'\nimport jwt_decode from 'jwt-decode'\n\nclass MovieModule extends Component {\n    render() {\n\n        var img_src = \"\";\n        if (this.props.movie.poster === \"#N/A\") {\n            img_src = no_img;\n        } else {\n            img_src = \"http://image.tmdb.org/t/p/w300\" + this.props.movie.poster;\n        }\n\n        return (\n            <div className='dib pa3 grow'>\n                <Card>\n                    <Image src={img_src} wrapped ui={false} />\n                    <Card.Content>\n                        <Card.Header>{this.props.movie.title}</Card.Header>\n                    </Card.Content> \n                    <Card.Content>\n                        <Rating \n                        rating = {this.props.movie.rating}\n                        size='massive' \n                        icon='star' \n                        maxRating={5}\n                        clearable \n                        onRate={async (_, data) => {\n                            if (!localStorage.usertoken) {\n                                window.alert(\"Your rating is not saved. You need to log in first.\");\n                            }\n                            else {\n                                const token = localStorage.usertoken\n                                const decoded = jwt_decode(token)\n                                const user = decoded.identity.username;\n                                const title = this.props.movie.title;\n                                const rating = data.rating;\n                                const movie = { title, rating, user};\n                                rate(movie)\n                            }  \n                            window.location.reload()\n                        }}\n                        />\n                    </Card.Content> \n                    \n                </Card>\n            </div>\n        )\n    }\n}\n\n\n// PropTypes\nMovieModule.propTypes = {\n    movie: PropTypes.object.isRequired\n}\n\nexport default MovieModule;"]},"metadata":{},"sourceType":"module"}