{"ast":null,"code":"import _slicedToArray from\"/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Movies from\"./Movies\";import React,{useEffect,useState}from\"react\";import jwt_decode from'jwt-decode';function RecmdMovies(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];// get current username\nvar token=localStorage.usertoken;var decoded=jwt_decode(token);var user=decoded.identity.username;var url=\"/rec_movies/\"+user;useEffect(function(){fetch(url).then(function(response){return response.json().then(function(data){setMovies(data.movies);});});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return React.createElement(Movies,{movies:movies});}export default RecmdMovies;","map":{"version":3,"sources":["/Users/thanhnguyen/Library/Mobile Documents/com~apple~CloudDocs/CSU/SJSU/CS160/Workspace/Recsys_new/frontend/src/components/RecmdMovies.js"],"names":["Movies","React","useEffect","useState","jwt_decode","RecmdMovies","movies","setMovies","token","localStorage","usertoken","decoded","user","identity","username","url","fetch","then","response","json","data"],"mappings":"mOAAA,MAAOA,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CAEA,QAASC,CAAAA,WAAT,EAAuB,eACSF,QAAQ,CAAC,EAAD,CADjB,wCACZG,MADY,eACJC,SADI,eAGnB;AACA,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,SAA3B,CACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,CAACI,KAAD,CAA1B,CACA,GAAMI,CAAAA,IAAI,CAAGD,OAAO,CAACE,QAAR,CAAiBC,QAA9B,CAEA,GAAMC,CAAAA,GAAG,CAAG,eAAiBH,IAA7B,CAEAV,SAAS,CAAC,UAAM,CACZc,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAgB,SAAAC,QAAQ,QACpBA,CAAAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,SAAAG,IAAI,CAAI,CACzBb,SAAS,CAACa,IAAI,CAACd,MAAN,CAAT,CACH,CAFD,CADoB,EAAxB,EAKA;AACH,CAPQ,CAON,EAPM,CAAT,CASA,MACI,qBAAC,MAAD,EAAQ,MAAM,CAAEA,MAAhB,EADJ,CAGH,CAED,cAAeD,CAAAA,WAAf","sourcesContent":["import Movies from \"./Movies\";\nimport React, { useEffect, useState } from \"react\";\nimport jwt_decode from 'jwt-decode'\n\nfunction RecmdMovies() {\n    const [movies, setMovies] = useState([]);\n\n    // get current username\n    const token = localStorage.usertoken\n    const decoded = jwt_decode(token)\n    const user = decoded.identity.username;\n\n    const url = \"/rec_movies/\" + user\n\n    useEffect(() => {\n        fetch(url).then(response =>\n            response.json().then(data => {\n                setMovies(data.movies);\n            })\n        );\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <Movies movies={movies} />\n    )\n}\n\nexport default RecmdMovies;"]},"metadata":{},"sourceType":"module"}